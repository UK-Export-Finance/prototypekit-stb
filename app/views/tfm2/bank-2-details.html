{% extends "govuk-prototype-kit/layouts/govuk-branded.html" %}

{% block pageTitle %}
{{ data['bank-12-name'] }} – {{ data['report-month'] }} report – {{ serviceName }} – GOV.UK Prototype Kit
{% endblock %}

{% block header %}
  {% include "includes/head.html" %}
  {% include "includes/primary-nav-banks-main.html" %}
{% endblock %}

{% block pageScripts %}
  {% include "includes/scripts.html" %}
{% endblock %}

{% block content %}
<div class="govuk-grid-row">

    <div class="ukef-grid-column-one-seventh">
            <nav class="moj-side-navigation" aria-label="Side navigation">
                <h4 class="moj-side-navigation__title">2023</h4>
                <ul class="moj-side-navigation__list">
                    <li class="moj-side-navigation__item moj-side-navigation__item--active">
                    <a href="bank-1" aria-current="location">{{ data['report-month-only'] }}</a>
                    </li>
            
                    <li class="moj-side-navigation__item">
                    <a href="bank-1-month-2">{{ data['last-month-only'] }}</a>
                    </li>
            
                    <li class="moj-side-navigation__item">
                    <a href="bank-1-month-3">{{ data['3rd-month-only'] }}</a>
                    </li>
    
                    <li class="moj-side-navigation__item">
                    <a href="bank-1-month-4">{{ data['4th-month-only'] }}</a>
                    </li>
                    <li class="moj-side-navigation__item">
                      <a href="#">February</a>
                    </li>
                    <li class="moj-side-navigation__item">
                      <a href="#">January</a>
                    </li>
                </ul>

          </nav>
      

    </div>

  <div class="ukef-grid-column-six-seventh">
    
    <h1 class="govuk-heading-xl govuk-!-margin-bottom-6">
      {{ data['bank-12-name'] }}
    </h1>
    <h2 class="govuk-heading-l">
      {{ data['report-month'] }}
    </h2> 
    <div class="govuk-tabs" data-module="govuk-tabs">
        <h2 class="govuk-tabs__title">
          Contents
        </h2>
        <ul class="govuk-tabs__list">
          <li class="govuk-tabs__list-item govuk-tabs__list-item--selected">
            <a class="govuk-tabs__tab" href="#report">
              Bank report
            </a>
          </li>
          <li class="govuk-tabs__list-item">
            <a class="govuk-tabs__tab" href="#reconciliation">
              Reconciliation
            </a>
          </li>
          <li class="govuk-tabs__list-item">
            <a class="govuk-tabs__tab" href="#payments-received">
              Payments received
            </a>
          </li>
        </ul>
        
        <div class="govuk-tabs__panel" id="report">

          <h2 class="govuk-heading-l">Bank report</h2>
          

          <table class="govuk-table" data-module="moj-sortable-table">
            <caption class="govuk-table__caption govuk-table__caption--l"></caption>
            <thead class="govuk-table__head">
              <tr class="govuk-table__row">
                <th scope="col" class="govuk-table__header" aria-sort="ascending">Facility ID</th>
                <th scope="col" class="govuk-table__header" aria-sort="none">Exporter</th>
                <th scope="col" class="govuk-table__header" aria-sort="none">Value</th>  
                <th scope="col" class="govuk-table__header" aria-sort="none">Utilisation</th>
                <th scope="col" class="govuk-table__header" aria-sort="none">UKEF cover</th>
                <th scope="col" class="govuk-table__header" aria-sort="none">UKEF exposure</th>
                <th scope="col" class="govuk-table__header" aria-sort="none">Fees accrued</th>
                <th scope="col" class="govuk-table__header" aria-sort="none">Fee payable to UKEF</th>
              </tr>
            </thead>
            <tbody class="govuk-table__body">
              <tr class="govuk-table__row">
                <th scope="row" class="govuk-table__header govuk-!-font-weight-regular" data-sort-value="{{ data['facility-10-ukef-id'] }}"><a href="facility1">{{ data['facility-10-ukef-id'] }}</a></th>
                <td class="govuk-table__cell">{{ data['facility-10-name'] }}</td>
                <td class="govuk-table__cell" data-sort-value="600000">GBP {{ data['facility-10-limit'] }}</td>
                <td class="govuk-table__cell" data-sort-value="400000">GBP {{ data['facility-10-utilisation'] }}</td>
                <td class="govuk-table__cell">{{ data['facility-10-cover'] }}</td>
                <td class="govuk-table__cell" data-sort-value="320000">GBP {{ data['facility-10-exposure'] }}</td>
                <td class="govuk-table__cell" data-sort-value="10000">GBP {{ data['facility-10-accrued'] }} </td>
                <td class="govuk-table__cell" data-sort-value="1000">GBP {{ data['facility-10-paid'] }} </td>
              </tr>
              <tr class="govuk-table__row">
                <th scope="row" class="govuk-table__header govuk-!-font-weight-regular" data-sort-value="{{ data['facility-11-ukef-id'] }}"><a href="facility2">{{ data['facility-11-ukef-id'] }}</a></th>
                <td class="govuk-table__cell">{{ data['facility-11-name'] }}</td>
                <td class="govuk-table__cell" data-sort-value="300000">GBP {{ data['facility-11-limit'] }}</td>
                <td class="govuk-table__cell" data-sort-value="125000">GBP {{ data['facility-11-utilisation'] }}</td>
                <td class="govuk-table__cell">{{ data['facility-11-cover'] }}</td>
                <td class="govuk-table__cell" data-sort-value="100000">GBP {{ data['facility-11-exposure'] }}</td>
                <td class="govuk-table__cell" data-sort-value="3600">GBP {{ data['facility-11-accrued'] }} </td>
                <td class="govuk-table__cell" data-sort-value="800">GBP {{ data['facility-11-paid'] }} </td>
              </tr>
              <tr class="govuk-table__row">
                <th scope="row" class="govuk-table__header govuk-!-font-weight-regular" data-sort-value="{{ data['facility-12-ukef-id'] }}"><a href="#">{{ data['facility-12-ukef-id'] }}</a></th>
                <td class="govuk-table__cell">{{ data['facility-12-name'] }}</td>
                <td class="govuk-table__cell" data-sort-value="800000">EUR {{ data['facility-12-limit'] }}</td>
                <td class="govuk-table__cell" data-sort-value="200000">EUR {{ data['facility-12-utilisation'] }}</td>
                <td class="govuk-table__cell">{{ data['facility-12-cover'] }}</td>
                <td class="govuk-table__cell" data-sort-value="160000">EUR {{ data['facility-12-exposure'] }}</td>
                <td class="govuk-table__cell" data-sort-value="50000">EUR {{ data['facility-12-accrued'] }} </td>
                <td class="govuk-table__cell" data-sort-value="2000">EUR {{ data['facility-12-paid'] }} </td>
              </tr>
              <tr class="govuk-table__row">
                <th scope="row" class="govuk-table__header govuk-!-font-weight-regular" data-sort-value="{{ data['facility-13-ukef-id'] }}"><a href="#">{{ data['facility-13-ukef-id'] }}</a></th>
                <td class="govuk-table__cell">{{ data['facility-13-name'] }}</td>
                <td class="govuk-table__cell" data-sort-value="1500000">EUR {{ data['facility-13-limit'] }}</td>
                <td class="govuk-table__cell" data-sort-value="500000">EUR {{ data['facility-13-utilisation'] }}</td>
                <td class="govuk-table__cell">{{ data['facility-13-cover'] }}</td>
                <td class="govuk-table__cell" data-sort-value="400000">EUR {{ data['facility-13-exposure'] }}</td>  
                <td class="govuk-table__cell" data-sort-value="20000">EUR {{ data['facility-13-accrued'] }} </td>
                <td class="govuk-table__cell" data-sort-value="1800">EUR {{ data['facility-13-paid'] }} </td>
              </tr>
              <tr class="govuk-table__row">
                <th scope="row" class="govuk-table__header govuk-!-font-weight-regular" data-sort-value="{{ data['facility-14-ukef-id'] }}"><a href="#">{{ data['facility-14-ukef-id'] }}</a></th>
                <td class="govuk-table__cell">{{ data['facility-14-name'] }}</td>
                <td class="govuk-table__cell" data-sort-value="2500000">USD {{ data['facility-14-limit'] }}</td>
                <td class="govuk-table__cell" data-sort-value="1900000">USD {{ data['facility-14-utilisation'] }}</td>
                <td class="govuk-table__cell">{{ data['facility-14-cover'] }}</td>
                <td class="govuk-table__cell" data-sort-value="1520000">USD {{ data['facility-14-exposure'] }}</td>
                <td class="govuk-table__cell" data-sort-value="50000">USD {{ data['facility-14-accrued'] }} </td>
                <td class="govuk-table__cell" data-sort-value="5000">USD {{ data['facility-14-paid'] }} </td>
              </tr>
              <tr class="govuk-table__row">
                <th scope="row" class="govuk-table__header govuk-!-font-weight-regular" data-sort-value="{{ data['facility-15-ukef-id'] }}"><a href="#">{{ data['facility-15-ukef-id'] }}</a></th>
                <td class="govuk-table__cell">{{ data['facility-15-name'] }}</td>
                <td class="govuk-table__cell" data-sort-value="1000000">USD {{ data['facility-15-limit'] }}</td>
                <td class="govuk-table__cell" data-sort-value="790000">USD {{ data['facility-15-utilisation'] }}</td>
                <td class="govuk-table__cell">{{ data['facility-15-cover'] }}</td>
                <td class="govuk-table__cell" data-sort-value="632000">USD {{ data['facility-15-exposure'] }}</td>
                <td class="govuk-table__cell" data-sort-value="15000">USD {{ data['facility-15-accrued'] }} </td>
                <td class="govuk-table__cell" data-sort-value="1200">USD {{ data['facility-15-paid'] }} </td>
              </tr>
            </tbody>
          </table>
          </div>
        <!-- end of report tab -->

        

        
        <div class="govuk-tabs__panel govuk-tabs__panel--hidden" id="reconciliation">

                <h2 class="govuk-heading-m govuk-!-margin-bottom-6">
                  Payment details
                </h2>
            
              <div class="govuk-grid-row">
                  <div class="govuk-grid-column-two-thirds">
            
                          <div class="govuk-form-group">
                              <fieldset class="govuk-fieldset">
                                <legend class="govuk-fieldset__legend govuk-fieldset__legend--s">
                                    Currency
                                </legend>
                                <div class="govuk-radios govuk-radios--small" data-module="govuk-radios">
                                  <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="changed-name" name="changed-name" type="radio" value="month">
                                    <label class="govuk-label govuk-radios__label" for="changed-name">
                                      GBP
                                    </label>
                                  </div>
                                  <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="changed-name-2" name="changed-name" type="radio" value="year">
                                    <label class="govuk-label govuk-radios__label" for="changed-name-2">
                                      EUR
                                    </label>
                                  </div>
                                  <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="changed-name-3" name="changed-name" type="radio" value="year">
                                    <label class="govuk-label govuk-radios__label" for="changed-name-3">
                                      USD
                                    </label>
                                  </div>
                                  <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="changed-name-4" name="changed-name" type="radio" value="year">
                                    <label class="govuk-label govuk-radios__label" for="changed-name-4">
                                      JPY
                                    </label>
                                  </div>
                                </div>
                              </fieldset>
                            </div>
                          
            
                          <div class="govuk-form-group">
                              <label class="govuk-label govuk-!-font-weight-bold" for="amount1">
                                Amount received
                              </label>
                              <input class="govuk-input govuk-input--width-10" id="amount1" name="amount1" type="text">
                            </div>

                            <div class="govuk-form-group">
                              <fieldset class="govuk-fieldset" role="group" aria-describedby="passport-issued-hint">
                                <legend class="govuk-fieldset__legend govuk-fieldset__legend--s">
                                      Date received
                                </legend>
                                <div id="passport-issued-hint" class="govuk-hint">
                                  For example, 27 03 2023
                                </div>
                                <div class="govuk-date-input" id="bank1-date">
                                  <div class="govuk-date-input__item">
                                    <div class="govuk-form-group">
                                      <label class="govuk-label govuk-date-input__label" for="bank1-day">
                                        Day
                                      </label>
                                      <input class="govuk-input govuk-date-input__input govuk-input--width-2" id="bank1-day" name="bank1-day" type="text" inputmode="numeric" value="{{ data['bank1-day'] }}">
                                    </div>
                                  </div>
                                  <div class="govuk-date-input__item">
                                    <div class="govuk-form-group">
                                      <label class="govuk-label govuk-date-input__label" for="bank1-month">
                                        Month
                                      </label>
                                      <input class="govuk-input govuk-date-input__input govuk-input--width-2" id="bank1-month" name="bank1-month" type="text" inputmode="numeric" value="{{ data['bank1-month'] }}">
                                    </div>
                                  </div>
                                  <div class="govuk-date-input__item">
                                    <div class="govuk-form-group">
                                      <label class="govuk-label govuk-date-input__label" for="bank1-year">
                                        Year
                                      </label>
                                      <input class="govuk-input govuk-date-input__input govuk-input--width-4" id="bank1-year" name="bank1-year" type="text" inputmode="numeric" value="{{ data['bank1-year'] }}">
                                    </div>
                                  </div>
                                </div>
                              </fieldset>
                            </div>    

                            <div class="govuk-form-group">
                              <fieldset class="govuk-fieldset">
                                <legend class="govuk-fieldset__legend govuk-fieldset__legend--s">
                                  <h1 class="govuk-fieldset__heading">
                                    Add another payment?
                                  </h1>
                                </legend>
                                <div class="govuk-radios govuk-radios--small" data-module="govuk-radios">
                                  <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="changed-name" name="changed-name" type="radio" value="month">
                                    <label class="govuk-label govuk-radios__label" for="changed-name">
                                      Yes
                                    </label>
                                  </div>
                                  <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="changed-name-2" name="changed-name" type="radio" value="year">
                                    <label class="govuk-label govuk-radios__label" for="changed-name-2">
                                      No
                                    </label>
                                  </div>
                                  
                                </div>
                              </fieldset>
                            </div>
                  </div>
              </div>
              
              <form class="form" action="bank-2#reconciliation" method="get">
              
              {% if data['bank-12-reconciliation'] =='' %}
              <!-- First time round - top 4 payments match -->  
              <div class="govuk-button-group">
                {{ govukButton({
                  text: "Save and continue"
                }) }}
                <input type="hidden" name="bank-12-reconciliation" value="part1">
                <a class="govuk-link" href="/tfm2/bank-2?bank-12-reconciliation=#reconciliation">Cancel</a>
              </div>
              
              {% elif data['bank-12-reconciliation'] =='part2' %}
              <!-- 2nd time round - bottom 4 payments match -->  
              <div class="govuk-button-group">
                {{ govukButton({
                  text: "Save and continue"
                }) }}
                <input type="hidden" name="bank-12-reconciliation" value="part2">
                <input type="hidden" name="bank-12-payment-display" value="show-payment2">
                <a class="govuk-link" href="">Cancel</a>
              </div>
              
              {% endif %}
            </form>
            
  </div>

  <div class="govuk-tabs__panel govuk-tabs__panel--hidden" id="payments-received">
    
    <div class="govuk-grid-row">
      <div class="govuk-grid-column-two-thirds">
    
        <h2 class="govuk-heading-l">Payments received</h2>
    
    {% if data['bank-12-reconciliation'] == '' %}
    <!-- Start view: no payments reconciled-->
    
    <p class="govuk-body">No payments marked as received yet.</p>
    
    {% elif ('part1' in data['bank-12-reconciliation']) or ('part2' in data['bank-12-reconciliation']) or ('part3' in data['bank-12-reconciliation']) %}
    <!-- 2nd stage view: displaying the radios to mark last 2 facilities-->

    <h3 class="govuk-heading-m">Payment 1</h2>

      <dl class="govuk-summary-list">
      <div class="govuk-summary-list__row">
        <dt class="govuk-summary-list__key">
          Payment received
        </dt>
        <dd class="govuk-summary-list__value">
          {{ data['bank-12-payment-bulk1'] }}
        </strong>
        </dd>
        <dd class="govuk-summary-list__actions">
          <a class="govuk-link" href="#">
            Change<span class="govuk-visually-hidden"> payment</span>
          </a>
        </dd>
      </div> 
  
      <div class="govuk-summary-list__row">
        <dt class="govuk-summary-list__key">
          Date received
        </dt>
        <dd class="govuk-summary-list__value">
          {{ data['payment-date'] }}
        </dd>
        <dd class="govuk-summary-list__actions">
        </dd>
      </div> 
      
      <div class="govuk-summary-list__row">
        <dt class="govuk-summary-list__key">
          Reconciled by
        </dt>
        <dd class="govuk-summary-list__value">
          {{ data['signed-in-name'] }}, {{ "today" | govukDate }} at {{ "now" | govukTime }}
        </dd>
        <dd class="govuk-summary-list__actions">
        </dd>
      </div>
  
    </dl>
  {% endif %}
  {% if 'part2' in data['bank-12-reconciliation'] %}
    <!-- 2nd stage view: displaying the radios to mark last 2 facilities-->

    </dl>

 
    <h3 class="govuk-heading-m">Payment 2</h2>

      <dl class="govuk-summary-list">
      <div class="govuk-summary-list__row">
        <dt class="govuk-summary-list__key">
          Payment received
        </dt>
        <dd class="govuk-summary-list__value">
          {{ data['bank-12-payment-bulk2'] }}
        </strong>
        </dd>
        <dd class="govuk-summary-list__actions">
          <a class="govuk-link" href="#">
            Change<span class="govuk-visually-hidden"> payment</span>
          </a>
        </dd>
      </div> 
  
      <div class="govuk-summary-list__row">
        <dt class="govuk-summary-list__key">
          Date received
        </dt>
        <dd class="govuk-summary-list__value">
          {{ data['payment-date'] }}
        </dd>
        <dd class="govuk-summary-list__actions">
        </dd>
      </div> 
      
      <div class="govuk-summary-list__row">
        <dt class="govuk-summary-list__key">
          Reconciled by
        </dt>
        <dd class="govuk-summary-list__value">
          {{ data['signed-in-name'] }}, {{ "today" | govukDate }} at {{ "now" | govukTime }}
        </dd>
        <dd class="govuk-summary-list__actions">
        </dd>
      </div>
  
    </dl>
</div>
</div>
{% endif %}
  </div>
</div>
</div>
</div>
{% endblock %}
